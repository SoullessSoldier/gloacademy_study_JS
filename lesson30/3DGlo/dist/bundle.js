(()=>{"use strict";function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?t(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var n,o,r,c,a,i,l,u,s,d,m,f,v,p,h,y,g,E,L,S,b,q,A,I,k,w,C,B,x,T,M,D,F,j,W,O;j=document.getElementById("timer-hours"),W=document.getElementById("timer-minutes"),O=document.getElementById("timer-seconds"),function e(){var t,n,o,r,c=(t=(new Date("01 july 2021 23:33:00").getTime()-(new Date).getTime())/1e3,n=Math.floor(t%60),o=Math.floor(t/60%60),r=Math.floor(t/3600),Math.floor(t/86400),{timeRemaining:t,hours:r,minutes:o,seconds:n});Math.floor(c.timeRemaining)>=0&&(j.textContent=c.hours.toString().padStart(2,"0"),W.textContent=c.minutes.toString().padStart(2,"0"),O.textContent=c.seconds.toString().padStart(2,"0"),setTimeout(e,1e3))}(),function(){document.querySelector(".menu");var e=document.querySelector("menu"),t=(document.querySelector(".close-btn"),e.querySelectorAll("ul>li"),function(){e.classList.toggle("active-menu")});document.addEventListener("click",(function(n){var o=n.target;(o.closest(".menu")||o.classList.contains("close-btn")||o.closest("menu")&&!o.matches("menu")||!(o=o.closest("menu"))&&e.classList.contains("active-menu"))&&t()}))}(),x=document.querySelector(".popup"),T=document.querySelector(".popup-content"),M=document.querySelectorAll(".popup-btn"),D=50,F=function e(){k=requestAnimationFrame(e),x.offsetLeft+D<0?(w=x.offsetLeft,C=T.offsetLeft,w+=D,C+=D,x.style.left=w+"px",T.style.left=C+"px"):x.offsetLeft+D>0&&x.offsetLeft+D<D?D/=2:0===x.offsetLeft&&cancelAnimationFrame(k)},M.forEach((function(e){e.addEventListener("click",(function(){document.documentElement.clientWidth<768?x.style.display="block":(D=50,x.style.display="block",B=document.documentElement.clientWidth/2-T.clientWidth/2,x.style.left=-x.clientWidth+"px",T.style.left=-x.clientWidth+B+"px",k=requestAnimationFrame(F))}))})),x.addEventListener("click",(function(e){var t=e.target;t.classList.contains("popup-close")?x.style.display="none":(t=t.closest(".popup-content"))||(x.style.display="none")})),q=document.querySelector('[href="#service-block"]'),A=q.getAttribute("href").slice(1),I=document.getElementById("".concat(A)),q.addEventListener("click",(function(e){e.preventDefault(),window.scrollTo({top:I.offsetTop,behavior:"smooth"})})),L=document.querySelector(".service-header"),S=L.querySelectorAll(".service-header-tab"),b=document.querySelectorAll(".service-tab"),L.addEventListener("click",(function(e){var t=e.target;(t=t.closest(".service-header-tab"))&&S.forEach((function(e,n){e===t&&function(e){for(var t=0;t<b.length;t++)e===t?(S[t].classList.add("active"),b[t].classList.remove("d-none")):(S[t].classList.remove("active"),b[t].classList.add("d-none"))}(n)}))})),m=document.querySelectorAll(".portfolio-item"),document.querySelectorAll(".portfolio-btn"),f=document.querySelectorAll(".dot"),v=document.querySelector(".portfolio-content"),p=0,h=function(e,t,n){e[t].classList.remove(n)},y=function(e,t,n){e[t].classList.add(n)},g=function(){h(m,p,"portfolio-item-active"),h(f,p,"dot-active"),++p>=m.length&&(p=0),y(m,p,"portfolio-item-active"),y(f,p,"dot-active")},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;d=setInterval(g,e)},v.addEventListener("click",(function(e){e.preventDefault();var t=e.target;t.matches(".portfolio-btn, .dot")&&(h(m,p,"portfolio-item-active"),h(f,p,"dot-active"),t.matches("#arrow-right")?p++:t.matches("#arrow-left")?p--:t.matches(".dot")&&f.forEach((function(e,n){e===t&&(p=n)})),p>=m.length&&(p=0),p<0&&(p=m.length-1),y(m,p,"portfolio-item-active"),y(f,p,"dot-active"))})),v.addEventListener("mouseover",(function(e){e.target.matches(".portfolio-btn, .dot")&&clearInterval(d)})),v.addEventListener("mouseout",(function(e){e.target.matches(".portfolio-btn, .dot")&&E()})),E(1500),(s=document.querySelectorAll(".command__photo")).forEach((function(e){e.addEventListener("mouseover",(function(t){u=e.src,t.target.src=e.dataset.img}))})),s.forEach((function(e){e.addEventListener("mouseout",(function(e){e.target.src=u}))})),document.querySelectorAll(".calc-item").forEach((function(e){e.addEventListener("input",(function(e){var t;(t=e.target).value=t.value.replace(/\D/g,"")}))})),n=document.getElementById("form2-name"),o=document.getElementById("form2-message"),r=document.getElementById("form2-email"),c=document.getElementById("form2-phone"),a=document.getElementById("form1-name"),i=document.getElementById("form1-email"),l=document.getElementById("form1-phone"),[n,a].forEach((function(e){e.addEventListener("input",(function(e){var t;(t=e.target).value=t.value.replace(/[^а-яё ]/gi,"")}))})),o.addEventListener("input",(function(e){var t;(t=e.target).value=t.value.replace(/[^?!,.а-яё\d ]/gi,"")})),[i,r].forEach((function(e){e.addEventListener("input",(function(e){var t;(t=e.target).value=t.value.replace(/[^a-z\@\-\_\.\!\~\*\']/gi,"")}))})),[l,c].forEach((function(e){e.addEventListener("input",(function(e){var t;(t=e.target).value=t.value.replace(/[^\d\(\)\-]/g,"")}))})),[a,i,l,n,o,r,c].forEach((function(e){e.addEventListener("blur",(function(e){return(t=e.target).value=t.value.replace(/[ \-]{2,}/g," "),t.value=t.value.replace(/[\-]{2,}/g,"-"),t.value=t.value.replace(/^[ \-]/g,""),void(t.value=t.value.replace(/[ \-]$/g,""));var t}))})),n.addEventListener("blur",(function(e){var t;(t=e.target).value=t.value.toLowerCase().replace(/\S{2,}/g,(function(e){return e.replace(/\S/,(function(e){return e.toUpperCase()}))}))})),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=document.querySelector(".calc-block"),n=document.querySelector(".calc-type"),o=document.querySelector(".calc-square"),r=document.querySelector(".calc-count"),c=document.querySelector(".calc-day"),a=document.getElementById("total"),i=function(){var t,i,l,u=1,s=1,d=n.options[n.selectedIndex].value/10,m=+o.value;r.value>1&&(u+=(r.value-1)/10),c.value&&c.value<5?s*=2:c.value&&c.value<10&&(s*=1.5),t=a,i=d&&m?e*d*m*u*s:0,l=null,window.requestAnimationFrame((function e(n){l||(l=n);var o=Math.min((n-l)/500,1);t.innerHTML=Math.floor(o*(i-0)+0),o<1&&window.requestAnimationFrame(e)}))};t.addEventListener("change",(function(e){var t=e.target;(t.matches("select")||t.matches("input"))&&i()}))}(100),function(){var t="Что-то пошло не так",n="Спасибо! Мы скоро с вами свяжемся!",o="<section>\n        <div class='sk-three-bounce'>\n          <div class='sk-bounce-1 sk-child'></div>\n          <div class='sk-bounce-2 sk-child'></div>\n          <div class='sk-bounce-3 sk-child'></div>\n        </div>\n      </section>",r=document.getElementById("form1"),c=document.getElementById("form2"),a=document.createElement("div");a.style.cssText="font-size: 2rem;",a.classList.add("preloader-block"),r.addEventListener("submit",(function(c){c.preventDefault(),r.appendChild(a),a.innerHTML=o;var l=new FormData(r),u={};l.forEach((function(e,t){u[t]=e})),i(u).then((function(e){a.textContent=n})).catch((function(e){a.textContent=t,console.error(e)})).finally((function(){e(r.elements).forEach((function(e){"input"===e.tagName.toLowerCase()&&(e.value="")}))}))})),c.addEventListener("submit",(function(r){r.preventDefault(),c.appendChild(a),a.innerHTML=o;var l=new FormData(c),u={};l.forEach((function(e,t){u[t]=e})),i(u).then((function(e){a.textContent=n})).catch((function(e){a.textContent=t,console.error(e)})).finally((function(){e(c.elements).forEach((function(e){"input"===e.tagName.toLowerCase()&&(e.value="")}))}))}));var i=function(e){return fetch("./server.php",{method:"POST",mode:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}}()})();