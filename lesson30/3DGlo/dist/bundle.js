(()=>{"use strict";function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?t(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var n,o,r,c,a,i,l,u,s,d,m,f,v,p,h,g,y,E,L,S,b,q,I,A,k,B,w,T,x,C,M,D,F,j,W,z,O,H,N,_,R;N=document.getElementById("timer-hours"),_=document.getElementById("timer-minutes"),R=document.getElementById("timer-seconds"),function e(){var t,n,o,r,c=(t=(new Date("16 jul 2021 23:59:59").getTime()-(new Date).getTime())/1e3,n=Math.floor(t%60),o=Math.floor(t/60%60),r=Math.floor(t/3600),Math.floor(t/86400),{timeRemaining:t,hours:r,minutes:o,seconds:n});Math.floor(c.timeRemaining)>=0&&(N.textContent=c.hours.toString().padStart(2,"0"),_.textContent=c.minutes.toString().padStart(2,"0"),R.textContent=c.seconds.toString().padStart(2,"0"),setTimeout(e,1e3))}(),H=document.querySelector("menu"),document.addEventListener("click",(function(e){var t=e.target;(t.closest(".menu")||t.classList.contains("close-btn")||t.closest("menu")&&!t.matches("menu")||!(t=t.closest("menu"))&&H.classList.contains("active-menu"))&&H.classList.toggle("active-menu")})),F=document.querySelector(".popup"),j=document.querySelector(".popup-content"),W=document.querySelectorAll(".popup-btn"),z=50,O=function e(){x=requestAnimationFrame(e),F.offsetLeft+z<0?(C=F.offsetLeft,M=j.offsetLeft,C+=z,M+=z,F.style.left=C+"px",j.style.left=M+"px"):F.offsetLeft+z>0&&F.offsetLeft+z<z?z/=2:0===F.offsetLeft&&cancelAnimationFrame(x)},W.forEach((function(e){e.addEventListener("click",(function(){document.documentElement.clientWidth<768?F.style.display="block":(z=50,F.style.display="block",D=document.documentElement.clientWidth/2-j.clientWidth/2,F.style.left=-F.clientWidth+"px",j.style.left=-F.clientWidth+D+"px",x=requestAnimationFrame(O))}))})),F.addEventListener("click",(function(e){var t=e.target;t.classList.contains("popup-close")?F.style.display="none":(t=t.closest(".popup-content"))||(F.style.display="none")})),B=document.querySelector('[href="#service-block"]'),w=B.getAttribute("href").slice(1),T=document.getElementById("".concat(w)),B.addEventListener("click",(function(e){e.preventDefault(),window.scrollTo({top:T.offsetTop,behavior:"smooth"})})),I=document.querySelector(".service-header"),A=I.querySelectorAll(".service-header-tab"),k=document.querySelectorAll(".service-tab"),I.addEventListener("click",(function(e){var t=e.target;(t=t.closest(".service-header-tab"))&&A.forEach((function(e,n){e===t&&function(e){for(var t=0;t<k.length;t++)e===t?(A[t].classList.add("active"),k[t].classList.remove("d-none")):(A[t].classList.remove("active"),k[t].classList.add("d-none"))}(n)}))})),h=document.querySelectorAll(".portfolio-item"),document.querySelectorAll(".portfolio-btn"),g=document.querySelectorAll(".dot"),y=document.querySelector(".portfolio-content"),E=0,L=function(e,t,n){e[t].classList.remove(n)},S=function(e,t,n){e[t].classList.add(n)},b=function(){L(h,E,"portfolio-item-active"),L(g,E,"dot-active"),++E>=h.length&&(E=0),S(h,E,"portfolio-item-active"),S(g,E,"dot-active")},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;p=setInterval(b,e)},y.addEventListener("click",(function(e){e.preventDefault();var t=e.target;t.matches(".portfolio-btn, .dot")&&(L(h,E,"portfolio-item-active"),L(g,E,"dot-active"),t.matches("#arrow-right")?E++:t.matches("#arrow-left")?E--:t.matches(".dot")&&g.forEach((function(e,n){e===t&&(E=n)})),E>=h.length&&(E=0),E<0&&(E=h.length-1),S(h,E,"portfolio-item-active"),S(g,E,"dot-active"))})),y.addEventListener("mouseover",(function(e){e.target.matches(".portfolio-btn, .dot")&&clearInterval(p)})),y.addEventListener("mouseout",(function(e){e.target.matches(".portfolio-btn, .dot")&&q()})),q(1500),(v=document.querySelectorAll(".command__photo")).forEach((function(e){e.addEventListener("mouseover",(function(t){f=e.src,t.target.src=e.dataset.img}))})),v.forEach((function(e){e.addEventListener("mouseout",(function(e){e.target.src=f}))})),document.querySelectorAll(".calc-item").forEach((function(e){e.addEventListener("input",(function(e){var t;(t=e.target).value=t.value.replace(/\D/g,"")}))})),n=document.getElementById("form2-name"),o=document.getElementById("form2-message"),r=document.getElementById("form2-email"),c=document.getElementById("form2-phone"),a=document.getElementById("form1-name"),i=document.getElementById("form1-email"),l=document.getElementById("form1-phone"),u=[a,n,document.getElementById("form3-name")],s=[i,r,document.getElementById("form3-email")],d=[l,c,document.getElementById("form3-phone")],m=u.concat(s),u.forEach((function(e){e.addEventListener("input",(function(e){var t;(t=e.target).value=t.value.replace(/[^а-яё ]/gi,"")}))})),o.addEventListener("input",(function(e){var t;(t=e.target).value=t.value.replace(/[^?!,.а-яё\d ]/gi,"")})),s.forEach((function(e){e.addEventListener("input",(function(e){var t;(t=e.target).value=t.value.replace(/[^a-z\d\@\-\_\.\!\~\*\']/gi,"")}))})),d.forEach((function(e){e.addEventListener("input",(function(e){var t;(t=e.target).value=t.value.replace(/[^\d\(\)\-]/g,"")}))})),m.forEach((function(e){e.addEventListener("blur",(function(e){return(t=e.target).value=t.value.replace(/[ \-]{2,}/g," "),t.value=t.value.replace(/[\-]{2,}/g,"-"),t.value=t.value.replace(/^[ \-]/g,""),void(t.value=t.value.replace(/[ \-]$/g,""));var t}))})),u.forEach((function(e){e.addEventListener("blur",(function(e){var t;(t=e.target).value=t.value.toLowerCase().replace(/\S{2,}/g,(function(e){return e.replace(/\S/,(function(e){return e.toUpperCase()}))}))}))})),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=document.querySelector(".calc-block"),n=document.querySelector(".calc-type"),o=document.querySelector(".calc-square"),r=document.querySelector(".calc-count"),c=document.querySelector(".calc-day"),a=document.getElementById("total"),i=function(){var t,i,l,u=1,s=1,d=n.options[n.selectedIndex].value/10,m=+o.value;r.value>1&&(u+=(r.value-1)/10),c.value&&c.value<5?s*=2:c.value&&c.value<10&&(s*=1.5),t=a,i=d&&m?e*d*m*u*s:0,l=null,window.requestAnimationFrame((function e(n){l||(l=n);var o=Math.min((n-l)/500,1);t.innerHTML=Math.floor(o*(i-0)+0),o<1&&window.requestAnimationFrame(e)}))};t.addEventListener("change",(function(e){var t=e.target;(t.matches("select")||t.matches("input"))&&i()}))}(100),function(){var t=document.getElementById("form1"),n=document.getElementById("form2"),o=document.getElementById("form3"),r=[t,n,o],c=document.createElement("div");c.style.cssText="font-size: 2rem;",c.classList.add("preloader-block"),r.forEach((function(t){t.addEventListener("submit",(function(n){if(n.preventDefault(),t.appendChild(c),a(t)){c.innerHTML="<section>\n        <div class='sk-three-bounce'>\n          <div class='sk-bounce-1 sk-child'></div>\n          <div class='sk-bounce-2 sk-child'></div>\n          <div class='sk-bounce-3 sk-child'></div>\n        </div>\n      </section>";var r=new FormData(t),i={};r.forEach((function(e,t){i[t]=e})),l(i).then((function(e){t===o&&(c.style.cssText="font-size: 2rem; color: #fff"),c.textContent="Спасибо! Мы скоро с вами свяжемся!"})).catch((function(e){t===o&&(c.style.cssText="font-size: 2rem; color: #fff"),c.textContent="Что-то пошло не так",console.error(e)})).finally((function(){e(t.elements).forEach((function(e){"input"===e.tagName.toLowerCase()&&(e.value="")}))}))}}))}));var a=function(t){var n=!0;return e(t.elements).forEach((function(e){"input"!==e.tagName.toLowerCase()||e.value.trim()||(i(c,"Заполните поля в форме!"),n=!1)})),n},i=function(e,t){e.innerHTML='<font color="red">'.concat(t,"</font>"),setTimeout((function(){e.textContent=""}),2e3)},l=function(e){return fetch("./server.php",{method:"POST",mode:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}}()})();